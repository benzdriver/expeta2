# Expeta 2.0 Backend

Expeta 2.0 是一个语义驱动的软件架构系统，通过模块化、语义感知的流程将需求转化为代码。

## 核心模块

### 1. Clarifier（澄清器）
将自然语言需求转换为结构化的语义期望。通过多轮对话，引导用户澄清需求的各个方面，确保系统正确理解用户意图。

### 2. Generator（生成器）
基于语义期望模型生成代码。使用LLM服务将结构化的期望转换为实际的代码实现。

### 3. Validator（验证器）
验证生成的代码是否满足语义期望。对代码进行评估，确保其符合期望模型中定义的功能和非功能需求。

### 4. Memory System（记忆系统）
存储和检索系统中的语义记忆。提供智能存储和检索机制，支持其他模块的语义操作。

### 5. Orchestrator（协调器）
协调各模块之间的工作流。管理从需求到代码生成的整个流程，确保各模块之间的顺畅交互。

### 6. Semantic Mediator（语义中介器）
实现模块间的语义驱动交互。负责在不同模块之间进行语义转换，解决语义冲突，提取语义洞察。

## 技术栈

- NestJS: 后端框架
- TypeScript: 编程语言
- MongoDB: 数据库
- OpenAI API: LLM服务

## 环境设置

1. 复制环境变量示例文件并配置：
```bash
cp .env.example .env
```

2. 在`.env`文件中设置必要的环境变量：
```
PORT=3000
MONGODB_URI=mongodb://localhost:27017/expeta2
OPENAI_API_KEY=your_openai_api_key
CORS_ORIGIN=http://localhost:5173
```

3. 安装依赖：
```bash
npm install
```

4. 启动开发服务器：
```bash
npm run start:dev
```

## API文档

启动服务器后，可以通过以下URL访问Swagger API文档：
```
http://localhost:3000/api/docs
```

## 设计原则

Expeta 2.0遵循以下核心设计原则：

1. **纯语义期望**：使用纯语义期望作为模块间通信的基础，而非技术实现细节。
2. **模块自主性**：每个模块独立运行，专注于自己的职责，通过语义接口与其他模块交互。
3. **延迟依赖**：模块先完成核心处理，再与其他模块交互，减少耦合。
4. **语义验证**：通过语义验证确保生成的代码满足原始期望。
